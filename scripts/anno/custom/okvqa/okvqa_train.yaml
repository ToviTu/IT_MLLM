dataset_path: HuggingFaceM4/A-OKVQA
dataset_kwargs:
  token: True
output_type: generate_until
doc_to_visual: !function utils.doc_to_visual
doc_to_text: !function utils.doc_to_text
doc_to_target: "answer"
task: "aokvqa_anno"
test_split: train
generation_kwargs:
  max_new_tokens: 512
  do_sample: true
  top_k: 50
metric_list:
  - metric: exact_match
    aggregation: mean
    higher_is_better: true
    ignore_case: true
    ignore_punctuation: true
process_results: !function utils.process_results
metadata:
  - version: 0.0
model_specific_prompt_kwargs:
  default:
    pre_prompt: "You are a helpful agent in answering questions. You will be provided with a context, a question, and its answer, and your job is to supply a detailed step-by-step explanation. You need to first paraphrase the problem, state the relevant premise according to the context, deduct facts one at a step, and finally give the reason why the answer is correct. If you disagree, please reply with \"I disagree\"."
    post_prompt: ""